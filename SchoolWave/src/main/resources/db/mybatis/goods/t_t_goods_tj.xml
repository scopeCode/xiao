<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.xcrm.core.goods">		<select id="queryGoodsStockAlarm_count" resultType="java.lang.Integer">		SELECT COUNT(1)		FROM t_t_goods		WHERE tenantId = #{tenantId} AND dataStatus = 1 AND stockCount &lt;= #{stockConfigLimit} AND goodsType = 'S_SPLX_SWSP' 	</select>		<select id="queryGoodsStockAlarm" resultType="java.util.Map">		SELECT a.goodsNo,a.goodsName,a.goodsImage,a.stockCount,b.categoryName		FROM t_t_goods a 		LEFT JOIN t_t_goods_category b on a.tenantId = b.tenantId AND a.goodsCategoryId = b.id AND b.dataStatus = 1		WHERE a.tenantId = #{tenantId} AND a.dataStatus = 1 AND a.stockCount &lt;= #{stockConfigLimit} AND a.goodsType = 'S_SPLX_SWSP' 		ORDER BY a.created desc		<if test="start != null and start >= 0 and pageSize != null and pageSize >= 0">			LIMIT #{start},#{pageSize}		</if>		<if test="start != null and start > 0 and pageSize == null">			LIMIT #{pageSize}		</if>	</select>		<select id="queryAllGoodsStockCost" resultType="java.math.BigDecimal">		SELECT SUM(IF(b.stockType = 1,b.stockCount,-b.stockCount)* a.goodsRealCost)		FROM t_t_goods a		LEFT JOIN t_t_goods_stock b ON a.id = b.goodsId AND b.dataStatus = 1 AND b.tenantId = a.tenantId		WHERE a.tenantId = #{tenantId} AND a.dataStatus = 1  AND a.goodsType = 'S_SPLX_SWSP'  	</select>	<select id="queryUnsaleGoods_count" resultType="java.lang.Integer">		SELECT COUNT(1)		FROM t_t_goods 		WHERE tenantId = #{tenantId} AND dataStatus = 1 AND DATEDIFF(NOW(),lastOrderDate) >= #{unsaleDays}	</select>		<select id="queryUnsaleGoods" resultType="java.util.Map">		SELECT a.goodsNo,a.goodsName,a.goodsImage,a.stockCount,b.categoryName,DATEDIFF(NOW(),a.lastOrderDate) as unSaleDayCount		FROM t_t_goods a 		LEFT JOIN t_t_goods_category b on a.tenantId = b.tenantId AND a.goodsCategoryId = b.id AND b.dataStatus = 1		WHERE a.tenantId = #{tenantId} AND a.dataStatus = 1 AND DATEDIFF(NOW(),a.lastOrderDate) >= #{unsaleDays}		ORDER BY a.created desc		<if test="start != null and start >= 0 and pageSize != null and pageSize >= 0">			LIMIT #{start},#{pageSize}		</if>		<if test="start != null and start > 0 and pageSize == null">			LIMIT #{pageSize}		</if>	</select>		<select id="queryUnsaleGoodsRank" resultType="java.util.Map">		SELECT a.goodsNo,a.goodsName,a.goodsImage,a.stockCount,b.categoryName,DATEDIFF(NOW(),a.lastOrderDate) as unSaleDayCount		FROM t_t_goods a 		LEFT JOIN t_t_goods_category b on a.tenantId = b.tenantId AND a.goodsCategoryId = b.id AND b.dataStatus = 1		WHERE a.tenantId = #{tenantId} AND a.dataStatus = 1		ORDER BY unSaleDayCount DESC		LIMIT 10;	</select>		</mapper>